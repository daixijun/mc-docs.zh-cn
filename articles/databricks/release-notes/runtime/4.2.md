---
ms.topic: conceptual
ms.service: azure-databricks
ms.reviewer: mamccrea
ms.custom: databricksmigration
ms.author: saperla
author: mssaperla
ms.date: 08/11/2020
title: Databricks Runtime 4.2 - Azure Databricks
description: 关于由 Apache Spark 提供支持的 Databricks Runtime 4.2 的发行说明。
ms.openlocfilehash: 5205276b47ecc86a9a240bf23de82c42fe61d256
ms.sourcegitcommit: 6b499ff4361491965d02bd8bf8dde9c87c54a9f5
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/06/2020
ms.locfileid: "94329305"
---
# <a name="databricks-runtime-42"></a>Databricks Runtime 4.2

Databricks 于 2018 年 7 月发布了此映像。

> [!IMPORTANT]
>
> 此版本已于 2019 年 3 月 5 日弃用。 有关 Databricks Runtime 弃用策略和计划的详细信息，请参阅 [Databricks Runtime 支持生命周期](databricks-runtime-ver.md#runtime-support)。

以下发行说明提供了由 Apache Spark 支持的 Databricks Runtime 4.2 的相关信息。

## <a name="delta-lake"></a>Delta Lake

Databricks Runtime 4.2 为 Delta Lake 增加了重大的质量改进和功能。 Databricks 强烈建议将所有 Delta Lake 客户升级到新的运行时。 此版本仍以个人预览版提供，但它代表了即将推出的正式发布版 (GA) 的候选发行版。

### <a name="new-features"></a>新增功能

* 现在，可以使用 `df.writeStream.table(...)` 将流直接写入到在 Hive 元存储中注册的 Delta 表。

### <a name="improvements"></a>改进

* 所有 Delta Lake 命令和查询现在都支持使用表的路径作为标识符来引用表：

  ```
  delta.`<path-to-table>`
  ```

  以前，`OPTIMIZE` 和 `VACUUM` 要求以非标准方式使用字符串文字（即 `'<path-to-table>'`）。

* `DESCRIBE HISTORY` 现在包含提交 ID，默认按从最新到最旧的顺序进行排序。

### <a name="bug-fixes"></a>Bug 修复

* 即使谓词的大小写不同于表的大小写，现在也能正常进行基于分区谓词的筛选。
* 修复了对 Delta 表中的布尔列执行相等检查（即 `booleanValue = true`）时缺少的列 `AnalysisException`。
* 创建指向现有表的指针时，`CREATE TABLE` 不再修改事务日志。  这可以防止不必要的并发流冲突，并允许创建用户对其中的数据仅具有读取访问权限的表的元存储指针。
* 对包含大量数据的流调用 `display()` 不再会导致驱动程序中出现 OOM。
* 如果删除了某个基础 Delta Lake 路径，则现在会引发 `AnalysisException`，而不是返回空结果。
* 需要特定协议版本（例如 `appendOnly`）的 Delta Lake 配置只能应用于相应版本的表。
* 更新 Delta 表的状态时，现在会自动截断长数据世系以避免 `StackOverFlowError`。

## <a name="structured-streaming"></a>结构化流式处理

### <a name="new-features"></a>新增功能

* Delta Lake 和 Kafka 现在完全支持 [Trigger.Once](https://databricks.com/blog/2017/05/22/running-streaming-jobs-day-10x-cost-savings.html)。 以前指定为源选项或默认值的速率限制（例如 `maxOffsetsPerTrigger` 或 `maxFilesPerTrigger`）可能会导致仅部分执行可用的数据。 现在，当使用 `Trigger.Once` 时，这些选项会被忽略，这样就可以处理所有当前可用的数据。

* 在 Scala 中添加了新的流式处理 `foreachBatch()`，你可以在其中定义一个函数，以使用数据帧操作来处理每个微批的输出。 这样可以实现以下方案：
  * 使用现有批处理数据源将微批输出写入到尚未包含流式处理数据源的系统（例如，对每个微批输出使用 Cassandra 批处理编写器）。
  * 将微批输出写入到多个位置。
  * 将数据帧和表操作应用于流式处理数据帧中尚不支持的微批输出（例如，将微批输出更新插入到 Delta 表）。
* 添加了 `from_avro/to_avro` 函数，用于在数据帧中（而不是只在文件中）读取和写入 Avro 数据，类似于 `from_json/to_json`。 有关更多详细信息，请参阅[在任何位置读取和写入 Avro 数据](../../spark/latest/structured-streaming/avro-dataframe.md)。
* 在 Python 中添加了对流式处理 `foreach()` 的支持（已在 Scala 中提供）。 有关更多详细信息，请参阅 [foreach 和 foreachBatch 文档](../../spark/latest/structured-streaming/foreach.md)。

### <a name="improvements"></a>改进

* 当输入流中没有数据时，使用有状态操作（`mapGroupsWithState`、流流联接、流式处理聚合、流式处理 dropDuplicates）可以更快地生成输出结果和/或进行状态清除。

### <a name="bug-fixes"></a>Bug 修复

* 修复了流间联接中的正确性 bug [SPARK-24588](https://issues.apache.org/jira/browse/SPARK-24588)，该 bug 的表现为：当联接之前存在显式重新分区（例如 `df1.repartition("a", "b").join(df, "a")`）时，联接报告的结果较少。

## <a name="other-changes-and-improvements"></a>其他更改和改进

* 为启用了[表访问控制](../../security/access-control/table-acls/object-privileges.md)的群集增加了对 SQL Deny 命令的支持。 用户现在可以像以前被授予特定权限一样拒绝特定的权限。 拒绝某个权限时，已授予的权限会被取代。 仍然始终允许特定对象的管理员和所有者执行操作。
* 使用 ABFS 驱动程序的新的 Azure Data Lake Storage Gen2 数据源。 请参阅 [Azure Data Lake Storage Gen2](../../data/data-sources/azure/azure-datalake-gen2.md)
* 升级了一些已安装的 Python 库：
  * pip：从 10.0.0b2 升级到了 10.0.1
  * setuptools：从 39.0.1 升级到了 39.2.0
  * tornado：从 5.0.1 升级到了 5.0.2
  * wheel：从 0.31.0 升级到了 0.31.1
* 升级了多个已安装的 R 库。 请参阅[已安装的 R 库](#installed-r-libraries)。
* 改进了 Parquet 支持
* 已将 Apache ORC 从 1.4.1 升级到了 1.4.3

## <a name="apache-spark"></a>Apache Spark

Databricks Runtime 4.2 包括 Apache Spark 2.3.1。 此版本包括 [Databricks Runtime 4.1](4.1.md) 中包含的所有修复和改进，以及对 Spark 进行的下述其他的 bug 修复和改进：

* [[SPARK-24588]](https://issues.apache.org/jira/browse/SPARK-24588)[SS] 流式处理联接应当需要来自子代的 HashClusteredPartitioning
* [[SPARK-23931]](https://issues.apache.org/jira/browse/SPARK-23931)[SQL] 在function.scala `@scala.annotation.varargs` 中创建 `arrays_zip`。
* [[SPARK-24633]](https://issues.apache.org/jira/browse/SPARK-24633)[SQL] 修复了当 arrays_zip 需要拆分时的 codegen
* [[SPARK-24578]](https://issues.apache.org/jira/browse/SPARK-24578)[CORE] 限制子区域的已返回的 nio 缓冲区的大小上限
* [[SPARK-24613]](https://issues.apache.org/jira/browse/SPARK-24613)[SQL] 具有 UDF 的缓存无法与后续的依赖缓存匹配
* [[SPARK-24583]](https://issues.apache.org/jira/browse/SPARK-24583)[SQL] InsertIntoDataSourceCommand 中的架构类型错误
* [[SPARK-24565]](https://issues.apache.org/jira/browse/SPARK-24565)[SS] 在结构化流式处理中添加了用于将每个微批的输出行公开为数据帧的 API
* [[SPARK-24396]](https://issues.apache.org/jira/browse/SPARK-24396)[SS][PYSPARK] 为 Python 添加结构化流式处理 ForeachWriter
* [[SPARK-24216]](https://issues.apache.org/jira/browse/SPARK-24216)[SQL] Spark TypedAggregateExpression 使用在 Scala 中不安全的 getSimpleName
* [[SPARK-24452]](https://issues.apache.org/jira/browse/SPARK-24452)[SQL][CORE] 在整数加法或乘法中避免可能的溢出
* [[SPARK-24187]](https://issues.apache.org/jira/browse/SPARK-24187)[R][SQL] 向 SparkR 添加 array_join 函数
* [[SPARK-24525]](https://issues.apache.org/jira/browse/SPARK-24525)[SS] 提供一个选项，用于限制 MemorySink 中的行数
* [[SPARK-24331]](https://issues.apache.org/jira/browse/SPARK-24331)[SPARKR][SQL] 向 SparkR 添加 arrays_overlap、array_repeat、map_entries
* [[SPARK-23931]](https://issues.apache.org/jira/browse/SPARK-23931)[SQL] 向 Spark SQL 添加 arrays_zip 函数
* [[SPARK-24186]](https://issues.apache.org/jira/browse/SPARK-24186)[R][SQL] 更改对 R 中的集合函数的反向和连接操作
* [[SPARK-24198]](https://issues.apache.org/jira/browse/SPARK-24198)[SPARKR][SQL] 向 SparkR 添加 slice 函数
* [[SPARK-23920]](https://issues.apache.org/jira/browse/SPARK-23920)[SQL] 添加了 array_remove，用于删除数组中与 element 等效的所有元素
* [[SPARK-24197]](https://issues.apache.org/jira/browse/SPARK-24197)[SPARKR][SQL] 向 SparkR 添加 array_sort 函数
* [[SPARK-24340]](https://issues.apache.org/jira/browse/SPARK-24340)[CORE] 在独立群集上的执行程序退出后，清理非无序磁盘块管理器文件
* [[SPARK-23935]](https://issues.apache.org/jira/browse/SPARK-23935)[SQL] 添加 map_entries 函数
* [[SPARK-24500]](https://issues.apache.org/jira/browse/SPARK-24500)[SQL] 确保在树转换期间将流具体化。
* [[SPARK-24495]](https://issues.apache.org/jira/browse/SPARK-24495)[SQL] EnsureRequirement 在将相等的键重新排序时返回错误的计划
* [[SPARK-24506]](https://issues.apache.org/jira/browse/SPARK-24506)[UI] 将 UI 筛选器添加到绑定后添加的选项卡
* [[SPARK-24468]](https://issues.apache.org/jira/browse/SPARK-24468)[SQL] 在调整十进制运算的精度时处理负刻度
* [[SPARK-24313]](https://issues.apache.org/jira/browse/SPARK-24313)[SQL] 修复集合操作针对复杂类型进行的解释计算
* [[SPARK-23922]](https://issues.apache.org/jira/browse/SPARK-23922)[SQL] 添加了 arrays_overlap 函数
* [[SPARK-24369]](https://issues.apache.org/jira/browse/SPARK-24369)[SQL] 更正了对具有相同参数集的多个不同聚合的处理
* [[SPARK-24455]](https://issues.apache.org/jira/browse/SPARK-24455)[CORE] 修复了 TaskSchedulerImpl 注释中的拼写错误
* [[SPARK-24397]](https://issues.apache.org/jira/browse/SPARK-24397)[PYSPARK] 在 Python 中添加了 TaskContext.getLocalProperty(key)
* [[SPARK-24117]](https://issues.apache.org/jira/browse/SPARK-24117)[SQL] 统一了 getSizePerRow
* [[SPARK-24156]](https://issues.apache.org/jira/browse/SPARK-24156)[SS] 修复了在无数据批中从故障进行恢复时发生的错误
* [[SPARK-24414]](https://issues.apache.org/jira/browse/SPARK-24414)[UI] 为某个阶段计算正确的任务数。
* [[SPARK-23754]](https://issues.apache.org/jira/browse/SPARK-23754)[PYTHON] 在客户端代码中重新引发 StopIteration
* [[SPARK-23991]](https://issues.apache.org/jira/browse/SPARK-23991)[DSTREAMS] 当 allocateBlocksToBatch 中的 WAL 写入失败时修复数据丢失错误
* [[SPARK-24373]](https://issues.apache.org/jira/browse/SPARK-24373)[SQL] 向 RelationalGroupedDataset 的子代和 KeyValueGroupedDataset 的子代添加 AnalysisBarrier
* [[SPARK-24392]](https://issues.apache.org/jira/browse/SPARK-24392)[PYTHON] 将 pandas_udf as 标记为试验性的
* [[SPARK-24334]](https://issues.apache.org/jira/browse/SPARK-24334) 修复了 ArrowPythonRunner 中出现争用情况时导致 Arrow 内存分配器不正常关闭的问题
* [[SPARK-19112]](https://issues.apache.org/jira/browse/SPARK-19112)[CORE] 将缺少的 shortCompressionCodecNames 添加到配置。
* [[SPARK-24244]](https://issues.apache.org/jira/browse/SPARK-24244)[[SPARK-24368]](https://issues.apache.org/jira/browse/SPARK-24368)[SQL] 仅传递 CSV 分析程序所需的列
* [[SPARK-24366]](https://issues.apache.org/jira/browse/SPARK-24366)[SQL] 改进用于类型转换的错误消息
* [[SPARK-24371]](https://issues.apache.org/jira/browse/SPARK-24371)[SQL] 在用于 Scala 的数据帧 API 中添加了 isInCollection
* [[SPARK-23925]](https://issues.apache.org/jira/browse/SPARK-23925)[SQL] 添加了 array_repeat 集合函数
* [MINOR] 在 toString 和 scaladoc 中添加了端口 SSL 配置
* [[SPARK-24378]](https://issues.apache.org/jira/browse/SPARK-24378)[SQL] 修复了 date_trunc 函数的不正确示例
* [[SPARK-24364]](https://issues.apache.org/jira/browse/SPARK-24364)[SS] 防止 InMemoryFileIndex 在文件路径不存在时失败
* [[SPARK-24257]](https://issues.apache.org/jira/browse/SPARK-24257)[SQL] LongToUnsafeRowMap 计算的新大小可能是错误的
* [[SPARK-24348]](https://issues.apache.org/jira/browse/SPARK-24348)[SQL] 修复了 element_at 错误
* [[SPARK-23930]](https://issues.apache.org/jira/browse/SPARK-23930)[SQL] 添加 slice 函数
* [[SPARK-23416]](https://issues.apache.org/jira/browse/SPARK-23416)[SS] 为 ContinuousExecution 添加了特定的 stop 方法。
* [[SPARK-23852]](https://issues.apache.org/jira/browse/SPARK-23852)[SQL] 升级到 Parquet 1.8.3
* [[SPARK-24350]](https://issues.apache.org/jira/browse/SPARK-24350)[SQL] 修复了“array_position”函数中的 ClassCastException
* [[SPARK-24321]](https://issues.apache.org/jira/browse/SPARK-24321)[SQL] 从 Divide/Remainder 中将公用代码提取到基础特征
* [[SPARK-24309]](https://issues.apache.org/jira/browse/SPARK-24309)[CORE] 发生中断时，AsyncEventQueue 应停止。
* [[SPARK-23850]](https://issues.apache.org/jira/browse/SPARK-23850)[SQL] 针对 SQL 选项修正添加单独的配置。
* [[SPARK-22371]](https://issues.apache.org/jira/browse/SPARK-22371)[CORE] 对累加器执行垃圾回收时，返回 None 而不是引发异常。
* [[SPARK-24002]](https://issues.apache.org/jira/browse/SPARK-24002)[SQL] 任务由于 org.apache.parquet.io.api.Binary$ByteBufferBackedBinary.getBytes 而无法序列化
* [[SPARK-23921]](https://issues.apache.org/jira/browse/SPARK-23921)[SQL] 添加 array_sort 函数
* [[SPARK-23923]](https://issues.apache.org/jira/browse/SPARK-23923)[SQL] 添加 cardinality 函数
* [[SPARK-24159]](https://issues.apache.org/jira/browse/SPARK-24159)[SS] 为流式处理 mapGroupswithState 启用无数据微批处理
* [[SPARK-24158]](https://issues.apache.org/jira/browse/SPARK-24158)[SS] 为流式处理联接启用无数据批处理
* [[SPARK-24157]](https://issues.apache.org/jira/browse/SPARK-24157)[SS] 在 MicroBatchExecution 中启用了用于流式处理聚合和重复数据删除的无数据批处理
* [[SPARK-23799]](https://issues.apache.org/jira/browse/SPARK-23799)[SQL] FilterEstimation.evaluateInSet 为 STRING 生成了错误的统计信息
* [[SPARK-17916]](https://issues.apache.org/jira/browse/SPARK-17916)[SQL] 修复了当设置 nullValue 时将空字符串分析为 null 的错误。
* [[SPARK-23916]](https://issues.apache.org/jira/browse/SPARK-23916)[SQL] 添加 array_join 函数
* [[SPARK-23408]](https://issues.apache.org/jira/browse/SPARK-23408)[SS] 同步流式处理 JoinSuite 过程中的连续 AddData 操作
* [[SPARK-23780]](https://issues.apache.org/jira/browse/SPARK-23780)[R] 无法将 googleVis 库与新的 SparkR 一起使用
* [[SPARK-23821]](https://issues.apache.org/jira/browse/SPARK-23821)[SQL] 集合函数：flatten
* [[SPARK-23627]](https://issues.apache.org/jira/browse/SPARK-23627)[SQL] 在数据集中提供 isEmpty
* [[SPARK-24027]](https://issues.apache.org/jira/browse/SPARK-24027)[SQL] from_json 支持在使用 MapType 时将键的 StringType 作为根类型
* [[SPARK-24035]](https://issues.apache.org/jira/browse/SPARK-24035)[SQL] 用于透视的 SQL 语法 - 修复 antlr 警告
* [[SPARK-23736]](https://issues.apache.org/jira/browse/SPARK-23736)[SQL] 扩展了 concat 函数以支持数组列
* [[SPARK-24246]](https://issues.apache.org/jira/browse/SPARK-24246)[SQL] 当原因已知时通过设置原因改进 AnalysisException
* [[SPARK-24263]](https://issues.apache.org/jira/browse/SPARK-24263)[R] SparkR java 检查在使用 openjdk 时中断
* [[SPARK-24262]](https://issues.apache.org/jira/browse/SPARK-24262)[PYTHON] 修复 UDF 类型匹配错误消息中的拼写错误
* [[SPARK-24067]](https://issues.apache.org/jira/browse/SPARK-24067)[STREAMING][KAFKA] 允许非连续偏移
* [[SPARK-10878]](https://issues.apache.org/jira/browse/SPARK-10878)[CORE] 修复了当多个客户端同时解析项目时出现争用情况的问题
* [[SPARK-19181]](https://issues.apache.org/jira/browse/SPARK-19181)[CORE] 修复不可靠的“SparkListenerSuite.local metrics”
* [[SPARK-24068]](https://issues.apache.org/jira/browse/SPARK-24068)将 DataFrameReader 的选项传播到有关架构推理的文本数据源
* [[SPARK-24214]](https://issues.apache.org/jira/browse/SPARK-24214)[SS] 修复 StreamingRelationV2/StreamingExecutionRelation/ContinuousExecutionRelation 的 toJSON
* [[SPARK-23919]](https://issues.apache.org/jira/browse/SPARK-23919)[[SPARK-23924]](https://issues.apache.org/jira/browse/SPARK-23924)[[SPARK-24054]](https://issues.apache.org/jira/browse/SPARK-24054)[SQL] 添加 array_position/element_at 函数
* [[SPARK-23926]](https://issues.apache.org/jira/browse/SPARK-23926)[SQL] 扩展 reverse 函数以支持 ArrayType 参数
* [[SPARK-23809]](https://issues.apache.org/jira/browse/SPARK-23809)[SQL] 应当通过 getOrCreate 设置活动 SparkSession
* [[SPARK-23094]](https://issues.apache.org/jira/browse/SPARK-23094)[[SPARK-23723]](https://issues.apache.org/jira/browse/SPARK-23723)[[SPARK-23724]](https://issues.apache.org/jira/browse/SPARK-23724)[SQL] 支持针对 json 文件进行的自定义编码
* [[SPARK-24035]](https://issues.apache.org/jira/browse/SPARK-24035)[SQL] 用于透视的 SQL 语法
* [[SPARK-24069]](https://issues.apache.org/jira/browse/SPARK-24069)[R] 添加 array_min / array_max 函数
* [[SPARK-23976]](https://issues.apache.org/jira/browse/SPARK-23976)[CORE] 检测 UTF8String.concat()/ByteArray.concat() 中的长度溢出
* [[SPARK-24188]](https://issues.apache.org/jira/browse/SPARK-24188)[CORE] 还原“/version”API 终结点。
* [[SPARK-24128]](https://issues.apache.org/jira/browse/SPARK-24128)[SQL] 在隐式 CROSS JOIN 错误中提到配置选项
* [[SPARK-23291]](https://issues.apache.org/jira/browse/SPARK-23291)[SQL][R] 当调用 Scala API 时，R 的 substr 不应将起始位置减 1
* [[SPARK-23697]](https://issues.apache.org/jira/browse/SPARK-23697)[CORE] LegacyAccumulatorWrapper 应当正确定义 isZero
* [[SPARK-24168]](https://issues.apache.org/jira/browse/SPARK-24168)[SQL] WindowExec 不应在执行程序端访问 SQLConf
* [[SPARK-24143]](https://issues.apache.org/jira/browse/SPARK-24143)将 mapstatus 转换为 (blockId, size) 对时筛选空块
* [[SPARK-23917]](https://issues.apache.org/jira/browse/SPARK-23917)[[SPARK-23918]](https://issues.apache.org/jira/browse/SPARK-23918)[SQL] 添加 array_max/array_min 函数
* [[SPARK-23905]](https://issues.apache.org/jira/browse/SPARK-23905)[SQL] 添加 UDF 工作日
* [[SPARK-16406]](https://issues.apache.org/jira/browse/SPARK-16406)[SQL] 改进 LogicalPlan.resolve 的性能
* [[SPARK-24013]](https://issues.apache.org/jira/browse/SPARK-24013)[SQL] 删除 ApproximatePercentile 中的不必要压缩
* [[SPARK-23433]](https://issues.apache.org/jira/browse/SPARK-23433)[CORE] 延迟完成僵尸任务后会更新所有任务集
* [[SPARK-24169]](https://issues.apache.org/jira/browse/SPARK-24169)[SQL] JsonToStructs 不应在执行程序端访问 SQLConf
* [[SPARK-24133]](https://issues.apache.org/jira/browse/SPARK-24133)[SQL] 向后移植 [[SPARK-24133]](https://issues.apache.org/jira/browse/SPARK-24133)检查重设 WritableColumnVectors 大小时是否发生整数溢出
* [[SPARK-24166]](https://issues.apache.org/jira/browse/SPARK-24166)[SQL] InMemoryTableScanExec 不应在执行程序端访问 SQLConf
* [[SPARK-24133]](https://issues.apache.org/jira/browse/SPARK-24133)[SQL] 检查重设 WritableColumnVectors 大小时是否发生整数溢出
* [[SPARK-24085]](https://issues.apache.org/jira/browse/SPARK-24085)[SQL] 如果在分区表达式中存在标量子查询，则查询会返回 UnsupportedOperationException
* [[SPARK-24062]](https://issues.apache.org/jira/browse/SPARK-24062)[THRIFT SERVER] 修复了 SASL 加密无法在 Thrift 服务器中启用的问题
* [[SPARK-23004]](https://issues.apache.org/jira/browse/SPARK-23004)[SS] 确保在流式处理聚合任务中仅调用 StateStore.commit 一次
* [[SPARK-23188]](https://issues.apache.org/jira/browse/SPARK-23188)[SQL] 使向量化列式读取器批处理大小可配置
* [[SPARK-23375]](https://issues.apache.org/jira/browse/SPARK-23375)[[SPARK-23973]](https://issues.apache.org/jira/browse/SPARK-23973)[SQL] 消除优化器中的不必要排序
* [[SPARK-23877]](https://issues.apache.org/jira/browse/SPARK-23877)[SQL] 使用筛选器谓词来修剪仅限元数据的查询中的分区
* [[SPARK-24033]](https://issues.apache.org/jira/browse/SPARK-24033)[SQL] 修复了不匹配的窗口框架 specifiedwindowframe(RowFrame, -1, -1)
* [[SPARK-23340]](https://issues.apache.org/jira/browse/SPARK-23340)[SQL] 将 Apache ORC 升级到 1.4.3
* 修复了 null 检查缺失问题，该问题很可能由简化的表达式代码生成触发，并由 SPARK-23986 公开，因为它使生成的源代码稍长一些，并触发了有问题的代码路径（通过 Expression.reduceCodeSize() 进行代码拆分）。
* [[SPARK-23989]](https://issues.apache.org/jira/browse/SPARK-23989)[SQL] exchange 应当在非序列化混排之前复制数据
* [[SPARK-24021]](https://issues.apache.org/jira/browse/SPARK-24021)[CORE] 修复 BlacklistTracker 的 updateBlacklistForFetchFailure 中的 bug
* [[SPARK-24014]](https://issues.apache.org/jira/browse/SPARK-24014)[PYSPARK] 将 onStreamingStarted 方法添加到 StreamingListener
* [[SPARK-23963]](https://issues.apache.org/jira/browse/SPARK-23963)[SQL] 在针对基于文本的 Hive 表进行的查询中正确处理大量列
* [[SPARK-23948]](https://issues.apache.org/jira/browse/SPARK-23948) 在 submitMissingTasks 中触发 mapstage 的作业侦听器
* [[SPARK-23986]](https://issues.apache.org/jira/browse/SPARK-23986)[SQL] freshName 可以生成非唯一名称
* [[SPARK-23835]](https://issues.apache.org/jira/browse/SPARK-23835)[SQL] 向元组的参数反序列化添加非 null 检查

## <a name="maintenance-updates"></a>维护更新

请参阅 [Databricks Runtime 4.2 维护更新](maintenance-updates.md#42)。

## <a name="system-environment"></a>系统环境

* **操作系统**：Ubuntu 16.04.4 LTS
* **Java**：1.8.0_162
* **Scala**：2.11.8
* **Python**：适用于 Python 2 群集的 2.7.12 和适用于 Python 3 群集的 3.5.2。 有关详细信息，请参阅 [Python 版本](../../clusters/configure.md#python-3)。
* **R**：R 版本 3.4.4 (2018-03-15)
* **GPU 群集**：安装了以下 NVIDIA GPU 库：
  * Tesla 驱动程序 375.66
  * CUDA 9.0
  * cuDNN 7.0

### <a name="installed-python-libraries"></a>已安装的 Python 库

| 库            | 版本            | 库            | 版本            | 库            | 版本            |
|--------------------|--------------------|--------------------|--------------------|--------------------|--------------------|
| ansi2html          | 1.1.1              | argparse           | 1.2.1              | backports-abc      | 0.5                |
| boto               | 2.42.0             | boto3              | 1.4.1              | botocore           | 1.4.70             |
| brewer2mpl         | 1.4.1              | certifi            | 2016.2.28          | cffi               | 1.7.0              |
| chardet            | 2.3.0              | colorama           | 0.3.7              | configobj          | 5.0.6              |
| 密码系统       | 1.5                | cycler             | 0.10.0             | Cython             | 0.24.1             |
| decorator          | 4.0.10             | docutils           | 0.14               | enum34             | 1.1.6              |
| et-xmlfile         | 1.0.1              | freetype-py        | 1.0.2              | funcsigs           | 1.0.2              |
| fusepy             | 2.0.4              | Future            | 3.2.0              | ggplot             | 0.6.8              |
| html5lib           | 0.999              | idna               | 2.1                | ipaddress          | 1.0.16             |
| ipython            | 2.2.0              | ipython-genutils   | 0.1.0              | jdcal              | 1.2                |
| Jinja2             | 2.8                | jmespath           | 0.9.0              | llvmlite           | 0.13.0             |
| lxml               | 3.6.4              | MarkupSafe         | 0.23               | matplotlib         | 1.5.3              |
| mpld3              | 0.2                | msgpack-python     | 0.4.7              | ndg-httpsclient    | 0.3.3              |
| numba              | 0.28.1             | numpy              | 1.11.1             | openpyxl           | 2.3.2              |
| pandas             | 0.19.2             | pathlib2           | 2.1.0              | patsy              | 0.4.1              |
| pexpect            | 4.0.1              | pickleshare        | 0.7.4              | Pillow             | 3.3.1              |
| pip                | 10.0.1             | ply                | 3.9                | prompt-toolkit     | 1.0.7              |
| psycopg2           | 2.6.2              | ptyprocess         | 0.5.1              | py4j               | 0.10.3             |
| pyarrow            | 0.8.0              | pyasn1             | 0.1.9              | pycparser          | 2.14               |
| Pygments           | 2.1.3              | PyGObject          | 3.20.0             | pyOpenSSL          | 16.0.0             |
| pyparsing          | 2.2.0              | pypng              | 0.0.18             | Python             | 2.7.12             |
| python-dateutil    | 2.5.3              | python-geohash     | 0.8.5              | pytz               | 2016.6.1           |
| 请求           | 2.11.1             | s3transfer         | 0.1.9              | scikit-learn       | 0.18.1             |
| scipy              | 0.18.1             | scour              | 0.32               | seaborn            | 0.7.1              |
| setuptools         | 39.2.0             | simplejson         | 3.8.2              | simples3           | 1.0                |
| singledispatch     | 3.4.0.3            | 6                | 1.10.0             | statsmodels        | 0.6.1              |
| tornado            | 5.0.2              | traitlets          | 4.3.0              | urllib3            | 1.19.1             |
| virtualenv         | 15.0.1             | wcwidth            | 0.1.7              | wheel              | 0.31.1             |
| wsgiref            | 0.1.2              |                    |                    |                    |                    |

### <a name="installed-r-libraries"></a>已安装的 R 库

| 库         | 版本         | 库         | 版本         | 库         | 版本         |
|-----------------|-----------------|-----------------|-----------------|-----------------|-----------------|
| abind           | 1.4-5           | assertthat      | 0.2.0           | backports       | 1.1.2           |
| base            | 3.4.4           | BH              | 1.66.0-1        | bindr           | 0.1.1           |
| bindrcpp        | 0.2.2           | bit             | 1.1-12          | bit64           | 0.9-7           |
| bitops          | 1.0-6           | blob            | 1.1.1           | boot            | 1.3-20          |
| brew            | 1.0-6           | broom           | 0.4.4           | car             | 3.0-0           |
| carData         | 3.0-1           | caret           | 6.0-79          | cellranger      | 1.1.0           |
| chron           | 2.3-52          | class           | 7.3-14          | cli             | 1.0.0           |
| cluster         | 2.0.7-1         | codetools       | 0.2-15          | colorspace      | 1.3-2           |
| commonmark      | 1.4             | compiler        | 3.4.4           | crayon          | 1.3.4           |
| curl            | 3.2             | CVST            | 0.2-1           | data.table      | 1.10.4-3        |
| datasets        | 3.4.4           | DBI             | 0.8             | ddalpha         | 1.3.1.1         |
| DEoptimR        | 1.0-8           | desc            | 1.1.1           | devtools        | 1.13.5          |
| dichromat       | 2.0-0           | digest          | 0.6.15          | dimRed          | 0.1.0           |
| doMC            | 1.3.5           | dplyr           | 0.7.4           | DRR             | 0.0.3           |
| forcats         | 0.3.0           | foreach         | 1.4.4           | foreign         | 0.8-70          |
| gbm             | 2.1.3           | ggplot2         | 2.2.1           | git2r           | 0.21.0          |
| glmnet          | 2.0-16          | glue            | 1.2.0           | gower           | 0.1.2           |
| graphics        | 3.4.4           | grDevices       | 3.4.4           | grid            | 3.4.4           |
| gsubfn          | 0.7             | gtable          | 0.2.0           | h2o             | 3.16.0.2        |
| haven           | 1.1.1           | hms             | 0.4.2           | httr            | 1.3.1           |
| hwriter         | 1.3.2           | hwriterPlus     | 1.0-3           | ipred           | 0.9-6           |
| iterators       | 1.0.9           | jsonlite        | 1.5             | kernlab         | 0.9-25          |
| KernSmooth      | 2.23-15         | labeling        | 0.3             | lattice         | 0.20-35         |
| lava            | 1.6.1           | lazyeval        | 0.2.1           | littler         | 0.3.3           |
| lme4            | 1.1-17          | lubridate       | 1.7.3           | magrittr        | 1.5             |
| mapproj         | 1.2.6           | maps            | 3.3.0           | maptools        | 0.9-2           |
| MASS            | 7.3-50          | 矩阵          | 1.2-14          | MatrixModels    | 0.4-1           |
| memoise         | 1.1.0           | methods         | 3.4.4           | mgcv            | 1.8-24          |
| mime            | 0.5             | minqa           | 1.2.4           | mnormt          | 1.5-5           |
| ModelMetrics    | 1.1.0           | munsell         | 0.4.3           | mvtnorm         | 1.0-7           |
| nlme            | 3.1-137         | nloptr          | 1.0.4           | nnet            | 7.3-12          |
| numDeriv        | 2016.8-1        | openssl         | 1.0.1           | openxlsx        | 4.0.17          |
| parallel        | 3.4.4           | pbkrtest        | 0.4-7           | pillar          | 1.2.1           |
| pkgconfig       | 2.0.1           | pkgKitten       | 0.1.4           | plogr           | 0.2.0           |
| plyr            | 1.8.4           | praise          | 1.0.0           | prettyunits     | 1.0.2           |
| pROC            | 1.11.0          | prodlim         | 1.6.1           | proto           | 1.0.0           |
| psych           | 1.8.3.3         | purrr           | 0.2.4           | quantreg        | 5.35            |
| R.methodsS3     | 1.7.1           | R.oo            | 1.21.0          | R.utils         | 2.6.0           |
| R6              | 2.2.2           | randomForest    | 4.6-14          | RColorBrewer    | 1.1-2           |
| Rcpp            | 0.12.16         | RcppEigen       | 0.3.3.4.0       | RcppRoll        | 0.2.2           |
| RCurl           | 1.95-4.10       | readr           | 1.1.1           | readxl          | 1.0.0           |
| recipes         | 0.1.2           | rematch         | 1.0.1           | reshape2        | 1.4.3           |
| rio             | 0.5.10          | rlang           | 0.2.0           | robustbase      | 0.92-8          |
| RODBC           | 1.3-15          | roxygen2        | 6.0.1           | rpart           | 4.1-13          |
| rprojroot       | 1.3-2           | Rserve          | 1.7-3           | RSQLite         | 2.1.0           |
| rstudioapi      | 0.7             | scales          | 0.5.0           | sfsmisc         | 1.1-2           |
| sp              | 1.2-7           | SparkR          | 2.3.1           | SparseM         | 1.77            |
| spatial         | 7.3-11          | splines         | 3.4.4           | sqldf           | 0.4-11          |
| SQUAREM         | 2017.10-1       | statmod         | 1.4.30          | stats           | 3.4.4           |
| stats4          | 3.4.4           | stringi         | 1.1.7           | stringr         | 1.3.0           |
| survival        | 2.42-3          | tcltk           | 3.4.4           | TeachingDemos   | 2.10            |
| testthat        | 2.0.0           | tibble          | 1.4.2           | tidyr           | 0.8.0           |
| tidyselect      | 0.2.4           | timeDate        | 3043.102        | tools           | 3.4.4           |
| utf8            | 1.1.3           | utils           | 3.4.4           | viridisLite     | 0.3.0           |
| whisker         | 0.3-2           | withr           | 2.1.2           | xml2            | 1.2.0           |

### <a name="installed-java-and-scala-libraries-scala-211-cluster-version"></a>已安装的 Java 库和 Scala 库（Scala 2.11 群集版本）

| 组 ID                                | 项目 ID                               | 版本                           |
|-----------------------------------------|-------------------------------------------|-----------------------------------|
| antlr                                   | antlr                                     | 2.7.7                             |
| com.amazonaws                           | amazon-kinesis-client                     | 1.7.3                             |
| com.amazonaws                           | aws-java-sdk-autoscaling                  | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cloudformation               | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cloudfront                   | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cloudhsm                     | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cloudsearch                  | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cloudtrail                   | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cloudwatch                   | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cloudwatchmetrics            | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-codedeploy                   | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cognitoidentity              | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-cognitosync                  | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-config                       | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-core                         | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-datapipeline                 | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-directconnect                | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-directory                    | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-dynamodb                     | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-ec2                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-ecs                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-efs                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-elasticache                  | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-elasticbeanstalk             | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-elasticloadbalancing         | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-elastictranscoder            | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-emr                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-glacier                      | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-iam                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-importexport                 | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-kinesis                      | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-kms                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-lambda                       | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-logs                         | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-machinelearning              | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-opsworks                     | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-rds                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-redshift                     | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-route53                      | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-s3                           | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-ses                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-simpledb                     | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-simpleworkflow               | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-sns                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-sqs                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-ssm                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-storagegateway               | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-sts                          | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-support                      | 1.11.313                          |
| com.amazonaws                           | aws-java-sdk-swf-libraries                | 1.11.22                           |
| com.amazonaws                           | aws-java-sdk-workspaces                   | 1.11.313                          |
| com.amazonaws                           | jmespath-java                             | 1.11.313                          |
| com.carrotsearch                        | hppc                                      | 0.7.2                             |
| com.chuusai                             | shapeless_2.11                            | 2.3.2                             |
| com.clearspring.analytics               | 流 (stream)                                    | 2.7.0                             |
| com.databricks                          | Rserve                                    | 1.8-3                             |
| com.databricks                          | dbml-local_2.11                           | 0.4.1-db1-spark2.3                |
| com.databricks                          | dbml-local_2.11-tests                     | 0.4.1-db1-spark2.3                |
| com.databricks                          | jets3t                                    | 0.7.1-0                           |
| com.databricks.scalapb                  | compilerplugin_2.11                       | 0.4.15-9                          |
| com.databricks.scalapb                  | scalapb-runtime_2.11                      | 0.4.15-9                          |
| com.esotericsoftware                    | kryo-shaded                               | 3.0.3                             |
| com.esotericsoftware                    | minlog                                    | 1.3.0                             |
| com.fasterxml                           | classmate                                 | 1.0.0                             |
| com.fasterxml.jackson.core              | jackson-annotations                       | 2.6.7                             |
| com.fasterxml.jackson.core              | jackson-core                              | 2.6.7                             |
| com.fasterxml.jackson.core              | jackson-databind                          | 2.6.7.1                           |
| com.fasterxml.jackson.dataformat        | jackson-dataformat-cbor                   | 2.6.7                             |
| com.fasterxml.jackson.datatype          | jackson-datatype-joda                     | 2.6.7                             |
| com.fasterxml.jackson.module            | jackson-module-paranamer                  | 2.6.7                             |
| com.fasterxml.jackson.module            | jackson-module-scala_2.11                 | 2.6.7.1                           |
| com.github.fommil                       | jniloader                                 | 1.1                               |
| com.github.fommil.netlib                | core                                      | 1.1.2                             |
| com.github.fommil.netlib                | native_ref-java                           | 1.1                               |
| com.github.fommil.netlib                | native_ref-java-natives                   | 1.1                               |
| com.github.fommil.netlib                | native_system-java                        | 1.1                               |
| com.github.fommil.netlib                | native_system-java-natives                | 1.1                               |
| com.github.fommil.netlib                | netlib-native_ref-linux-x86_64-natives    | 1.1                               |
| com.github.fommil.netlib                | netlib-native_system-linux-x86_64-natives | 1.1                               |
| com.github.luben                        | zstd-jni                                  | 1.3.2-2                           |
| com.github.rwl                          | jtransforms                               | 2.4.0                             |
| com.google.code.findbugs                | jsr305                                    | 2.0.1                             |
| com.google.code.gson                    | gson                                      | 2.2.4                             |
| com.google.guava                        | guava                                     | 15.0                              |
| com.google.protobuf                     | protobuf-java                             | 2.6.1                             |
| com.googlecode.javaewah                 | JavaEWAH                                  | 0.3.2                             |
| com.h2database                          | h2                                        | 1.3.174                           |
| com.jamesmurty.utils                    | java-xmlbuilder                           | 1.1                               |
| com.jcraft                              | jsch                                      | 0.1.50                            |
| com.jolbox                              | bonecp                                    | 0.8.0.RELEASE                     |
| com.mchange                             | c3p0                                      | 0.9.5.1                           |
| com.mchange                             | mchange-commons-java                      | 0.2.10                            |
| com.microsoft.azure                     | azure-data-lake-store-sdk                 | 2.2.8                             |
| com.microsoft.sqlserver                 | mssql-jdbc                                | 6.2.2.jre8                        |
| com.ning                                | compress-lzf                              | 1.0.3                             |
| com.sun.mail                            | javax.mail                                | 1.5.2                             |
| com.thoughtworks.paranamer              | paranamer                                 | 2.8                               |
| com.trueaccord.lenses                   | lenses_2.11                               | 0.3                               |
| com.twitter                             | chill-java                                | 0.8.4                             |
| com.twitter                             | chill_2.11                                | 0.8.4                             |
| com.twitter                             | parquet-hadoop-bundle                     | 1.6.0                             |
| com.twitter                             | util-app_2.11                             | 6.23.0                            |
| com.twitter                             | util-core_2.11                            | 6.23.0                            |
| com.twitter                             | util-jvm_2.11                             | 6.23.0                            |
| com.typesafe                            | config                                    | 1.2.1                             |
| com.typesafe.scala-logging              | scala-logging-api_2.11                    | 2.1.2                             |
| com.typesafe.scala-logging              | scala-logging-slf4j_2.11                  | 2.1.2                             |
| com.univocity                           | univocity-parsers                         | 2.5.9                             |
| com.vlkan                               | flatbuffers                               | 1.2.0-3f79e055                    |
| com.zaxxer                              | HikariCP                                  | 3.1.0                             |
| commons-beanutils                       | commons-beanutils                         | 1.7.0                             |
| commons-beanutils                       | commons-beanutils-core                    | 1.8.0                             |
| commons-cli                             | commons-cli                               | 1.2                               |
| commons-codec                           | commons-codec                             | 1.10                              |
| commons-collections                     | commons-collections                       | 3.2.2                             |
| commons-configuration                   | commons-configuration                     | 1.6                               |
| commons-dbcp                            | commons-dbcp                              | 1.4                               |
| commons-digester                        | commons-digester                          | 1.8                               |
| commons-httpclient                      | commons-httpclient                        | 3.1                               |
| commons-io                              | commons-io                                | 2.4                               |
| commons-lang                            | commons-lang                              | 2.6                               |
| commons-logging                         | commons-logging                           | 1.1.3                             |
| commons-net                             | commons-net                               | 2.2                               |
| commons-pool                            | commons-pool                              | 1.5.4                             |
| info.ganglia.gmetric4j                  | gmetric4j                                 | 1.0.7                             |
| io.airlift                              | aircompressor                             | 0.8                               |
| io.dropwizard.metrics                   | metrics-core                              | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-ganglia                           | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-graphite                          | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-healthchecks                      | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-jetty9                            | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-json                              | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-jvm                               | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-log4j                             | 3.1.5                             |
| io.dropwizard.metrics                   | metrics-servlets                          | 3.1.5                             |
| io.netty                                | netty                                     | 3.9.9.Final                       |
| io.netty                                | netty-all                                 | 4.1.17.Final                      |
| io.prometheus                           | simpleclient                              | 0.0.16                            |
| io.prometheus                           | simpleclient_common                       | 0.0.16                            |
| io.prometheus                           | simpleclient_dropwizard                   | 0.0.16                            |
| io.prometheus                           | simpleclient_servlet                      | 0.0.16                            |
| io.prometheus.jmx                       | 收集器                                 | 0.7                               |
| javax.activation                        | activation                                | 1.1.1                             |
| javax.annotation                        | javax.annotation-api                      | 1.2                               |
| javax.el                                | javax.el-api                              | 2.2.4                             |
| javax.jdo                               | jdo-api                                   | 3.0.1                             |
| javax.servlet                           | javax.servlet-api                         | 3.1.0                             |
| javax.servlet.jsp                       | jsp-api                                   | 2.1                               |
| javax.transaction                       | jta                                       | 1.1                               |
| javax.validation                        | validation-api                            | 1.1.0.Final                       |
| javax.ws.rs                             | javax.ws.rs-api                           | 2.0.1                             |
| javax.xml.bind                          | jaxb-api                                  | 2.2.2                             |
| javax.xml.stream                        | stax-api                                  | 1.0-2                             |
| javolution                              | javolution                                | 5.5.1                             |
| jline                                   | jline                                     | 2.11                              |
| joda-time                               | joda-time                                 | 2.9.3                             |
| log4j                                   | apache-log4j-extras                       | 1.2.17                            |
| log4j                                   | log4j                                     | 1.2.17                            |
| net.hydromatic                          | eigenbase-properties                      | 1.1.5                             |
| net.iharder                             | base64                                    | 2.3.8                             |
| net.java.dev.jets3t                     | jets3t                                    | 0.9.4                             |
| net.razorvine                           | pyrolite                                  | 4.13                              |
| net.sf.jpam                             | jpam                                      | 1.1                               |
| net.sf.opencsv                          | opencsv                                   | 2.3                               |
| net.sf.supercsv                         | super-csv                                 | 2.2.0                             |
| net.snowflake                           | snowflake-jdbc                            | 3.6.3                             |
| net.snowflake                           | spark-snowflake_2.11                      | 2.3.2                             |
| net.sourceforge.f2j                     | arpack_combined_all                       | 0.1                               |
| org.acplt                               | oncrpc                                    | 1.0.7                             |
| org.antlr                               | ST4                                       | 4.0.4                             |
| org.antlr                               | antlr-runtime                             | 3.4                               |
| org.antlr                               | antlr4-runtime                            | 4.7                               |
| org.antlr                               | stringtemplate                            | 3.2.1                             |
| org.apache.ant                          | ant                                       | 1.9.2                             |
| org.apache.ant                          | ant-jsch                                  | 1.9.2                             |
| org.apache.ant                          | ant-launcher                              | 1.9.2                             |
| org.apache.arrow                        | arrow-format                              | 0.8.0                             |
| org.apache.arrow                        | arrow-memory                              | 0.8.0                             |
| org.apache.arrow                        | arrow-vector                              | 0.8.0                             |
| org.apache.avro                         | avro                                      | 1.7.7                             |
| org.apache.avro                         | avro-ipc                                  | 1.7.7                             |
| org.apache.avro                         | avro-ipc-tests                            | 1.7.7                             |
| org.apache.avro                         | avro-mapred-hadoop2                       | 1.7.7                             |
| org.apache.calcite                      | calcite-avatica                           | 1.2.0-incubating                  |
| org.apache.calcite                      | calcite-core                              | 1.2.0-incubating                  |
| org.apache.calcite                      | calcite-linq4j                            | 1.2.0-incubating                  |
| org.apache.commons                      | commons-compress                          | 1.4.1                             |
| org.apache.commons                      | commons-crypto                            | 1.0.0                             |
| org.apache.commons                      | commons-lang3                             | 3.5                               |
| org.apache.commons                      | commons-math3                             | 3.4.1                             |
| org.apache.curator                      | curator-client                            | 2.7.1                             |
| org.apache.curator                      | curator-framework                         | 2.7.1                             |
| org.apache.curator                      | curator-recipes                           | 2.7.1                             |
| org.apache.derby                        | derby                                     | 10.12.1.1                         |
| org.apache.directory.api                | api-asn1-api                              | 1.0.0-M20                         |
| org.apache.directory.api                | api-util                                  | 1.0.0-M20                         |
| org.apache.directory.server             | apacheds-i18n                             | 2.0.0-M15                         |
| org.apache.directory.server             | apacheds-kerberos-codec                   | 2.0.0-M15                         |
| org.apache.hadoop                       | hadoop-annotations                        | 2.7.3                             |
| org.apache.hadoop                       | hadoop-auth                               | 2.7.3                             |
| org.apache.hadoop                       | hadoop-client                             | 2.7.3                             |
| org.apache.hadoop                       | hadoop-common                             | 2.7.3                             |
| org.apache.hadoop                       | hadoop-hdfs                               | 2.7.3                             |
| org.apache.hadoop                       | hadoop-mapreduce-client-app               | 2.7.3                             |
| org.apache.hadoop                       | hadoop-mapreduce-client-common            | 2.7.3                             |
| org.apache.hadoop                       | hadoop-mapreduce-client-core              | 2.7.3                             |
| org.apache.hadoop                       | hadoop-mapreduce-client-jobclient         | 2.7.3                             |
| org.apache.hadoop                       | hadoop-mapreduce-client-shuffle           | 2.7.3                             |
| org.apache.hadoop                       | hadoop-yarn-api                           | 2.7.3                             |
| org.apache.hadoop                       | hadoop-yarn-client                        | 2.7.3                             |
| org.apache.hadoop                       | hadoop-yarn-common                        | 2.7.3                             |
| org.apache.hadoop                       | hadoop-yarn-server-common                 | 2.7.3                             |
| org.apache.htrace                       | htrace-core                               | 3.1.0-incubating                  |
| org.apache.httpcomponents               | httpclient                                | 4.5.4                             |
| org.apache.httpcomponents               | httpcore                                  | 4.4.8                             |
| org.apache.ivy                          | ivy                                       | 2.4.0                             |
| org.apache.orc                          | orc-core-nohive                           | 1.4.3                             |
| org.apache.orc                          | orc-mapreduce-nohive                      | 1.4.3                             |
| org.apache.parquet                      | parquet-column                            | 1.8.3-databricks2                 |
| org.apache.parquet                      | parquet-common                            | 1.8.3-databricks2                 |
| org.apache.parquet                      | parquet-encoding                          | 1.8.3-databricks2                 |
| org.apache.parquet                      | parquet-format                            | 2.3.1                             |
| org.apache.parquet                      | parquet-hadoop                            | 1.8.3-databricks2                 |
| org.apache.parquet                      | parquet-jackson                           | 1.8.3-databricks2                 |
| org.apache.thrift                       | libfb303                                  | 0.9.3                             |
| org.apache.thrift                       | libthrift                                 | 0.9.3                             |
| org.apache.xbean                        | xbean-asm5-shaded                         | 4.4                               |
| org.apache.zookeeper                    | zookeeper                                 | 3.4.6                             |
| org.bouncycastle                        | bcprov-jdk15on                            | 1.58                              |
| org.codehaus.jackson                    | jackson-core-asl                          | 1.9.13                            |
| org.codehaus.jackson                    | jackson-jaxrs                             | 1.9.13                            |
| org.codehaus.jackson                    | jackson-mapper-asl                        | 1.9.13                            |
| org.codehaus.jackson                    | jackson-xc                                | 1.9.13                            |
| org.codehaus.janino                     | commons-compiler                          | 3.0.8                             |
| org.codehaus.janino                     | janino                                    | 3.0.8                             |
| org.datanucleus                         | datanucleus-api-jdo                       | 3.2.6                             |
| org.datanucleus                         | datanucleus-core                          | 3.2.10                            |
| org.datanucleus                         | datanucleus-rdbms                         | 3.2.9                             |
| org.eclipse.jetty                       | jetty-client                              | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-continuation                        | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-http                                | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-io                                  | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-jndi                                | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-plus                                | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-proxy                               | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-security                            | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-server                              | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-servlet                             | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-servlets                            | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-util                                | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-webapp                              | 9.3.20.v20170531                  |
| org.eclipse.jetty                       | jetty-xml                                 | 9.3.20.v20170531                  |
| org.fusesource.leveldbjni               | leveldbjni-all                            | 1.8                               |
| org.glassfish.hk2                       | hk2-api                                   | 2.4.0-b34                         |
| org.glassfish.hk2                       | hk2-locator                               | 2.4.0-b34                         |
| org.glassfish.hk2                       | hk2-utils                                 | 2.4.0-b34                         |
| org.glassfish.hk2                       | osgi-resource-locator                     | 1.0.1                             |
| org.glassfish.hk2.external              | aopalliance-repackaged                    | 2.4.0-b34                         |
| org.glassfish.hk2.external              | javax.inject                              | 2.4.0-b34                         |
| org.glassfish.jersey.bundles.repackaged | jersey-guava                              | 2.22.2                            |
| org.glassfish.jersey.containers         | jersey-container-servlet                  | 2.22.2                            |
| org.glassfish.jersey.containers         | jersey-container-servlet-core             | 2.22.2                            |
| org.glassfish.jersey.core               | jersey-client                             | 2.22.2                            |
| org.glassfish.jersey.core               | jersey-common                             | 2.22.2                            |
| org.glassfish.jersey.core               | jersey-server                             | 2.22.2                            |
| org.glassfish.jersey.media              | jersey-media-jaxb                         | 2.22.2                            |
| org.hibernate                           | hibernate-validator                       | 5.1.1.Final                       |
| org.iq80.snappy                         | snappy                                    | 0.2                               |
| org.javassist                           | javassist                                 | 3.18.1-GA                         |
| org.jboss.logging                       | jboss-logging                             | 3.1.3.GA                          |
| org.jdbi                                | jdbi                                      | 2.63.1                            |
| org.joda                                | joda-convert                              | 1.7                               |
| org.jodd                                | jodd-core                                 | 3.5.2                             |
| org.json4s                              | json4s-ast_2.11                           | 3.2.11                            |
| org.json4s                              | json4s-core_2.11                          | 3.2.11                            |
| org.json4s                              | json4s-jackson_2.11                       | 3.2.11                            |
| org.lz4                                 | lz4-java                                  | 1.4.0                             |
| org.mariadb.jdbc                        | mariadb-java-client                       | 2.1.2                             |
| org.mockito                             | mockito-all                               | 1.9.5                             |
| org.objenesis                           | objenesis                                 | 2.1                               |
| org.postgresql                          | postgresql                                | 42.1.4                            |
| org.roaringbitmap                       | RoaringBitmap                             | 0.5.11                            |
| org.rocksdb                             | rocksdbjni                                | 5.2.1                             |
| org.rosuda.REngine                      | REngine                                   | 2.1.0                             |
| org.scala-lang                          | scala-compiler_2.11                       | 2.11.8                            |
| org.scala-lang                          | scala-library_2.11                        | 2.11.8                            |
| org.scala-lang                          | scala-reflect_2.11                        | 2.11.8                            |
| org.scala-lang                          | scalap_2.11                               | 2.11.8                            |
| org.scala-lang.modules                  | scala-parser-combinators_2.11             | 1.0.2                             |
| org.scala-lang.modules                  | scala-xml_2.11                            | 1.0.5                             |
| org.scala-sbt                           | test-interface                            | 1.0                               |
| org.scalacheck                          | scalacheck_2.11                           | 1.12.5                            |
| org.scalanlp                            | breeze-macros_2.11                        | 0.13.2                            |
| org.scalanlp                            | breeze_2.11                               | 0.13.2                            |
| org.scalatest                           | scalatest_2.11                            | 2.2.6                             |
| org.slf4j                               | jcl-over-slf4j                            | 1.7.16                            |
| org.slf4j                               | jul-to-slf4j                              | 1.7.16                            |
| org.slf4j                               | slf4j-api                                 | 1.7.16                            |
| org.slf4j                               | slf4j-log4j12                             | 1.7.16                            |
| org.spark-project.hive                  | hive-beeline                              | 1.2.1.spark2                      |
| org.spark-project.hive                  | hive-cli                                  | 1.2.1.spark2                      |
| org.spark-project.hive                  | hive-exec                                 | 1.2.1.spark2                      |
| org.spark-project.hive                  | hive-jdbc                                 | 1.2.1.spark2                      |
| org.spark-project.hive                  | hive-metastore                            | 1.2.1.spark2                      |
| org.spark-project.spark                 | unused                                    | 1.0.0                             |
| org.spire-math                          | spire-macros_2.11                         | 0.13.0                            |
| org.spire-math                          | spire_2.11                                | 0.13.0                            |
| org.springframework                     | spring-core                               | 4.1.4.RELEASE                     |
| org.springframework                     | spring-test                               | 4.1.4.RELEASE                     |
| org.tukaani                             | xz                                        | 1.0                               |
| org.typelevel                           | machinist_2.11                            | 0.6.1                             |
| org.typelevel                           | macro-compat_2.11                         | 1.1.1                             |
| org.xerial                              | sqlite-jdbc                               | 3.8.11.2                          |
| org.xerial.snappy                       | snappy-java                               | 1.1.2.6                           |
| org.yaml                                | snakeyaml                                 | 1.16                              |
| oro                                     | oro                                       | 2.0.8                             |
| software.amazon.ion                     | ion-java                                  | 1.0.2                             |
| stax                                    | stax-api                                  | 1.0.1                             |
| xmlenc                                  | xmlenc                                    | 0.52                              |